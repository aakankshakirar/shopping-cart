{% extends "admin/layout/app.html.twig" %}

{% block title %}Product index{% endblock %}

{% block body %}
  <h1 class="mt-4 h3 mb-3 font-weight-normal">Product List</h1>
  <ol class="breadcrumb mb-4">
    <li class="breadcrumb-item">
      <a href="{{ path('product_index') }}">Product</a>
    </li>
    <li class="breadcrumb-item active">Product List</li>
  </ol>

  <table class="table table-striped table-sm">
    <thead>
      <tr>
        <th>Actions</th>
        <th>Image</th>
        <th>Title</th>
        <th>Price</th>
        <th>Stock</th>
      </tr>
    </thead>
    <tbody>
      {% for product in products %}
        <tr>
          <td>
            <a href="{{ path('product_show', {'id': product.id}) }}" class="btn btn-sm btn-success">Show</a>
            <a href="{{ path('product_edit', {'id': product.id}) }}" class="btn btn-sm btn-primary">Edit</a>
          </td>
          <td style="width:10%"><img src="{{ (product.image) ? asset('uploads/') ~ product.image :  asset('uploads/default.jpg') }}" class="img-fluid"></td>
          <td>{{ product.Title }}</td>
          <td>{{ product.price }} </td>
          <td>{{ product.stock }}</td>
        </tr>
      {% else %}
        <tr>
          <td colspan="6">no records found</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>

  <a href="{{ path('product_new') }}" class="btn btn-sm btn-secondary">Create new</a>
{% endblock %}
